
<!doctype html>
<html>

<head>
	<title>Line Chart - Cubic interpolation mode</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
	<style>
	canvas{
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
	</style>
</head>

<body>
	<div style="width:75%;">
		<canvas id="canvas"></canvas>
	</div>
	<br>
	<br>
	<button id="randomizeData">Randomize Data</button>
	<script>

		var randomScalingFactor = function() {
			return Math.round(Math.random() * 100);
		};

		var pts = [
        {
            "latitude": 43.529576150387257,
            "longitude": 5.4409535229206094,
            "elevation": 194.00357055664062,
            "distanceFromOriginMeters": 0.0
        },
        {
            "latitude": 43.55162364696087,
            "longitude": 5.43754877172686,
            "elevation": 358.98046875,
            "distanceFromOriginMeters": 2759.9840705144056
        },
        {
            "latitude": 43.563389478284378,
            "longitude": 5.4300582847626977,
            "elevation": 313.6077880859375,
            "distanceFromOriginMeters": 4293.6089023484546
        }
    ];
    var ptsData = pts.map(
                pt => {
                	var rdata = {};
                	rdata.x = pt.distanceFromOriginMeters;
                	rdata.y = pt.elevation;
                	return rdata;
                });

		var config = {
			type: 'scatter',
			data: {
				datasets: [{
					label: 'Cubic interpolation (monotone)',
					data: ptsData,
					borderColor: 'red',
					cubicInterpolationMode: 'monotone'
				},
				{
					label: 'Cubic interpolation (default)',
					data: ptsData,
					borderColor: 'blue',
				},
				{
					label: 'Linear interpolation',
					data: ptsData,
					//data: [{x: 0, y:0},{x:1, y:20},{x:2, y: 20},{x:3, y: 60},{x:4, y: 60},{x:5, y: 120},{x:6, y: 500},{x:7, y: 180},{x:8, y: 120},{x:9, y: 125},{x:10, y: 105},{x:11, y: 110},{x:12, y: 170}],
					borderColor: 'green',
					lineTension: 0
				}]
			},
			options: {
				responsive: true,showLines: true
			}
		};

		window.onload = function() {
			var ctx = document.getElementById('canvas').getContext('2d');
			window.myLine = new Chart(ctx, config);
		};

		document.getElementById('randomizeData').addEventListener('click', function() {
			for (var i = 0, len = datapoints.length; i < len; ++i) {
				datapoints[i] = Math.random() < 0.05 ? NaN : randomScalingFactor();
			}
			window.myLine.update();
		});

	</script>
</body>

</html>
